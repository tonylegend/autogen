"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4326],{3086:(e,c,t)=>{t.r(c),t.d(c,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>i});var s=t(5893),n=t(1151);const o={sidebar_label:"base",title:"coding.base"},r=void 0,l={id:"reference/coding/base",title:"coding.base",description:"CodeBlock Objects",source:"@site/docs/reference/coding/base.md",sourceDirName:"reference/coding",slug:"/reference/coding/base",permalink:"/autogen/docs/reference/coding/base",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/autogen/edit/main/website/docs/reference/coding/base.md",tags:[],version:"current",frontMatter:{sidebar_label:"base",title:"coding.base"},sidebar:"referenceSideBar",previous:{title:"redis_cache",permalink:"/autogen/docs/reference/cache/redis_cache"},next:{title:"embedded_ipython_code_executor",permalink:"/autogen/docs/reference/coding/embedded_ipython_code_executor"}},d={},i=[{value:"CodeBlock Objects",id:"codeblock-objects",level:2},{value:"CodeResult Objects",id:"coderesult-objects",level:2},{value:"CodeExtractor Objects",id:"codeextractor-objects",level:2},{value:"extract_code_blocks",id:"extract_code_blocks",level:4},{value:"CodeExecutor Objects",id:"codeexecutor-objects",level:2},{value:"UserCapability Objects",id:"usercapability-objects",level:2},{value:"user_capability",id:"user_capability",level:4},{value:"code_extractor",id:"code_extractor",level:4},{value:"execute_code_blocks",id:"execute_code_blocks",level:4},{value:"restart",id:"restart",level:4}];function a(e){const c={code:"code",em:"em",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.h2,{id:"codeblock-objects",children:"CodeBlock Objects"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:"class CodeBlock(BaseModel)\n"})}),"\n",(0,s.jsx)(c.p,{children:"(Experimental) A class that represents a code block."}),"\n",(0,s.jsx)(c.h2,{id:"coderesult-objects",children:"CodeResult Objects"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:"class CodeResult(BaseModel)\n"})}),"\n",(0,s.jsx)(c.p,{children:"(Experimental) A class that represents the result of a code execution."}),"\n",(0,s.jsx)(c.h2,{id:"codeextractor-objects",children:"CodeExtractor Objects"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:"class CodeExtractor(Protocol)\n"})}),"\n",(0,s.jsx)(c.p,{children:"(Experimental) A code extractor class that extracts code blocks from a message."}),"\n",(0,s.jsx)(c.h4,{id:"extract_code_blocks",children:"extract_code_blocks"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:"def extract_code_blocks(\n        message: Union[str, List[Dict[str, Any]], None]) -> List[CodeBlock]\n"})}),"\n",(0,s.jsx)(c.p,{children:"(Experimental) Extract code blocks from a message."}),"\n",(0,s.jsxs)(c.p,{children:[(0,s.jsx)(c.strong,{children:"Arguments"}),":"]}),"\n",(0,s.jsxs)(c.ul,{children:["\n",(0,s.jsxs)(c.li,{children:[(0,s.jsx)(c.code,{children:"message"})," ",(0,s.jsx)(c.em,{children:"str"})," - The message to extract code blocks from."]}),"\n"]}),"\n",(0,s.jsxs)(c.p,{children:[(0,s.jsx)(c.strong,{children:"Returns"}),":"]}),"\n",(0,s.jsxs)(c.ul,{children:["\n",(0,s.jsxs)(c.li,{children:[(0,s.jsx)(c.code,{children:"List[CodeBlock]"})," - The extracted code blocks."]}),"\n"]}),"\n",(0,s.jsx)(c.h2,{id:"codeexecutor-objects",children:"CodeExecutor Objects"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:"@runtime_checkable\nclass CodeExecutor(Protocol)\n"})}),"\n",(0,s.jsx)(c.p,{children:"(Experimental) A code executor class that executes code blocks and returns the result."}),"\n",(0,s.jsx)(c.h2,{id:"usercapability-objects",children:"UserCapability Objects"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:"class UserCapability(Protocol)\n"})}),"\n",(0,s.jsx)(c.p,{children:"(Experimental) An AgentCapability class that gives agent ability use this code executor."}),"\n",(0,s.jsx)(c.h4,{id:"user_capability",children:"user_capability"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:'@property\ndef user_capability() -> "CodeExecutor.UserCapability"\n'})}),"\n",(0,s.jsx)(c.p,{children:"(Experimental) Capability to use this code executor."}),"\n",(0,s.jsx)(c.p,{children:"The exported capability can be added to an agent to allow it to use this\ncode executor:"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:'code_executor = CodeExecutor()\nagent = ConversableAgent("agent", ...)\ncode_executor.user_capability.add_to_agent(agent)\n'})}),"\n",(0,s.jsx)(c.p,{children:"A typical implementation is to update the system message of the agent with\ninstructions for how to use this code executor."}),"\n",(0,s.jsx)(c.h4,{id:"code_extractor",children:"code_extractor"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:"@property\ndef code_extractor() -> CodeExtractor\n"})}),"\n",(0,s.jsx)(c.p,{children:"(Experimental) The code extractor used by this code executor."}),"\n",(0,s.jsx)(c.h4,{id:"execute_code_blocks",children:"execute_code_blocks"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:"def execute_code_blocks(code_blocks: List[CodeBlock]) -> CodeResult\n"})}),"\n",(0,s.jsx)(c.p,{children:"(Experimental) Execute code blocks and return the result."}),"\n",(0,s.jsx)(c.p,{children:"This method should be implemented by the code executor."}),"\n",(0,s.jsxs)(c.p,{children:[(0,s.jsx)(c.strong,{children:"Arguments"}),":"]}),"\n",(0,s.jsxs)(c.ul,{children:["\n",(0,s.jsxs)(c.li,{children:[(0,s.jsx)(c.code,{children:"code_blocks"})," ",(0,s.jsx)(c.em,{children:"List[CodeBlock]"})," - The code blocks to execute."]}),"\n"]}),"\n",(0,s.jsxs)(c.p,{children:[(0,s.jsx)(c.strong,{children:"Returns"}),":"]}),"\n",(0,s.jsxs)(c.ul,{children:["\n",(0,s.jsxs)(c.li,{children:[(0,s.jsx)(c.code,{children:"CodeResult"})," - The result of the code execution."]}),"\n"]}),"\n",(0,s.jsx)(c.h4,{id:"restart",children:"restart"}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-python",children:"def restart() -> None\n"})}),"\n",(0,s.jsx)(c.p,{children:"(Experimental) Restart the code executor."}),"\n",(0,s.jsx)(c.p,{children:"This method should be implemented by the code executor."}),"\n",(0,s.jsx)(c.p,{children:"This method is called when the agent is reset."})]})}function h(e={}){const{wrapper:c}={...(0,n.a)(),...e.components};return c?(0,s.jsx)(c,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},1151:(e,c,t)=>{t.d(c,{Z:()=>l,a:()=>r});var s=t(7294);const n={},o=s.createContext(n);function r(e){const c=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(c):{...c,...e}}),[c,e])}function l(e){let c;return c=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(o.Provider,{value:c},e.children)}}}]);